# Migration `20200629155828-init`

This migration has been generated by Matthew Mueller at 6/29/2020, 3:58:28 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE `prisma_test2`.`User` (
`bestFriendId` varchar(191) NOT NULL ,`id` varchar(191) NOT NULL  ,
    PRIMARY KEY (`id`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE UNIQUE INDEX `User.bestFriendId` ON `prisma_test2`.`User`(`bestFriendId`)

CREATE  INDEX `BestFriend` ON `prisma_test2`.`User`(`bestFriendId`)

ALTER TABLE `prisma_test2`.`User` ADD FOREIGN KEY (`bestFriendId`) REFERENCES `prisma_test2`.`User`(`id`) ON DELETE CASCADE ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200629154555-init..20200629155828-init
--- datamodel.dml
+++ datamodel.dml
@@ -1,12 +1,12 @@
 datasource db {
   provider = "mysql"
-  url = "***"
+  url      = "mysql://root@localhost:3306/prisma_test2"
 }
 model User {
   id           String  @default(cuid()) @id
-  bestFriendId String @unique
+  bestFriendId String  @unique
   bestFriend   User    @relation("BestFriend", fields: [bestFriendId], references: [id])
   user         User?   @relation("BestFriend")
   @@index([bestFriendId], name: "BestFriend")
```


