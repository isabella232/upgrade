# Migration `20200629164903-init`

This migration has been generated by Matthew Mueller at 6/29/2020, 4:49:03 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE `prisma_test2`.`User` DROP FOREIGN KEY `user_ibfk_1`,
DROP COLUMN `bestFriendId`,
ADD COLUMN `bestFriendId` varchar(191)  ;

ALTER TABLE `prisma_test2`.`User` ADD FOREIGN KEY (`bestFriendId`) REFERENCES `prisma_test2`.`User`(`id`) ON DELETE SET NULL ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200629155828-init..20200629164903-init
--- datamodel.dml
+++ datamodel.dml
@@ -1,13 +1,13 @@
 datasource db {
   provider = "mysql"
-  url = "***"
+  url      = "mysql://root@localhost:3306/prisma_test2"
 }
 model User {
   id           String  @default(cuid()) @id
-  bestFriendId String  @unique
-  bestFriend   User    @relation("BestFriend", fields: [bestFriendId], references: [id])
-  user         User?   @relation("BestFriend")
+  bestFriendId String?  @unique
+  bestFriend   User?    @relation("BestFriend", fields: [bestFriendId], references: [id])
+  user         User    @relation("BestFriend")
   @@index([bestFriendId], name: "BestFriend")
 }
```


