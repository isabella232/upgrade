# Migration `20200629164933-init`

This migration has been generated by Matthew Mueller at 6/29/2020, 4:49:33 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE `prisma_test2`.`User` DROP FOREIGN KEY `user_ibfk_1`,
DROP COLUMN `bestFriendId`,
ADD COLUMN `bestFriendId` varchar(191) NOT NULL ;

ALTER TABLE `prisma_test2`.`User` ADD FOREIGN KEY (`bestFriendId`) REFERENCES `prisma_test2`.`User`(`id`) ON DELETE CASCADE ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200629164903-init..20200629164933-init
--- datamodel.dml
+++ datamodel.dml
@@ -1,13 +1,13 @@
 datasource db {
   provider = "mysql"
-  url = "***"
+  url      = "mysql://root@localhost:3306/prisma_test2"
 }
 model User {
-  id           String  @default(cuid()) @id
-  bestFriendId String?  @unique
-  bestFriend   User?    @relation("BestFriend", fields: [bestFriendId], references: [id])
-  user         User    @relation("BestFriend")
+  bestFriendId String @unique
+  id           String  @id
+  User         User   @relation("UserToUser_bestFriendId", fields: [bestFriendId], references: [id])
+  other_User   User?   @relation("UserToUser_bestFriendId")
   @@index([bestFriendId], name: "BestFriend")
-}
+}
```


